{
	"name": "@synchrotron-examples/backend",
	"private": true,
	"type": "module",
	"version": "0.0.0",
	"description": "Shared backend (Postgres + Electric + Bun RPC) for Synchrotron examples",
	"scripts": {
		"ensure:bun": "bun scripts/ensure-bun.ts",
		"docker:wait": "dotenv -e .env -e .env.example -- bun scripts/wait-for-postgres.ts",
		"docker:up:postgres": "dotenv -e .env -e .env.example -- docker compose -f ./docker-compose.yml up -d postgres && pnpm run docker:wait",
		"docker:up": "dotenv -e .env -e .env.example -- docker compose -f ./docker-compose.yml up -d --remove-orphans && pnpm run docker:wait && pnpm run db:migrate",
		"docker:down": "dotenv -e .env -e .env.example -- docker compose -f ./docker-compose.yml down --remove-orphans",
		"docker:reset": "dotenv -e .env -e .env.example -- docker compose -f ./docker-compose.yml down --volumes --remove-orphans",
		"predb:migrate": "pnpm run ensure:bun",
		"db:migrate": "dotenv -e .env -e .env.example -- bun src/db/migrate.ts",
		"preserver:dev": "pnpm run ensure:bun",
		"server:dev": "dotenv -e .env -e .env.example -- bun --watch src/server.ts",
		"dev": "pnpm run docker:up && pnpm run server:dev",
		"typecheck": "tsc --noEmit"
	},
	"dependencies": {
		"@effect/platform": "~0.94.1",
		"@effect/platform-bun": "~0.87.0",
		"@effect/rpc": "~0.73.0",
		"@effect/sql": "~0.49.0",
		"@effect/sql-pg": "0.34.21",
		"@synchrotron/observability": "workspace:*",
		"@synchrotron/sync-core": "workspace:*",
		"@synchrotron/sync-server": "workspace:*",
		"effect": "~3.19.14"
	},
	"devDependencies": {
		"dotenv-cli": "^11.0.0",
		"typescript": "~5.9.3"
	}
}
